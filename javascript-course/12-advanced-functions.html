<!DOCTYPE html>
<html>
  <head>
    <title>Advanced Functions</title>
  </head>
  <body>
    <button onclick="" class="js-button">Click</button>
    <script>

      greeting();
      //One way of writing function
      function greeting() {
        console.log('Hello');
      }

      greeting();

      //Another way of writing functions
      //Functions are values, just like other types we can assign functions to a variable
      const function1 = function greeting(){
        console.log("World");
      }; //Since we are assigning a function to varible we need to add semicolon at the end

      console.log(function1);
      console.log(typeof function1);

      function1();

      //As we can see we write two functions in two ways
      //The advantage of writing function shown in first is 
      //1) Easier to read
      //2) Hoisting - we can call the function in above lines (See greeting function defined above in line 9)

      //We can still improve second way of writing function by removing greeting
      //This is called anonymous function

      //As we seen above function is a value, we can save a function in an object
      const object1 = {
        num:2,
        fun: function(){
          console.log('Hello from method');
        }
      };

      object1.fun();

      //As functions are just values, we can pass as a value to a function
      function run(fun){
        fun();
      }

      run(function(){
        console.log('Hello from callback');
      });

      //The function passed as an argument to another function is called a callback function.
      setTimeout(function(){
        console.log('TImeout');
      }, 2000);

      /*
      setInterval(() => {
        console.log('Interval')
      }, 2000);
      */

      //More notes on functions as values

      //forEach will loop through an array and pass each value into the function.
      //We are passing a function as a parameter to forEach function
      ['make dinner', 'wash dishes', 'watch youtube'].forEach(function(value){
        console.log(value);
      });

      //forEach can have one more argument called index
      ['make dinner', 'wash dishes', 'watch youtube'].forEach(function(value, index){
        console.log(index + ":" + value);
      });

      //inorder to skip  a iteration using forEach we must use return instead of continue.
      //Unfortunately writing break is difficult in forEach so incase your code needs to break use regualr for loop

      //Arrow Functions

      const arrowFunction = () => {
        console.log('Hello from arrowFunction');
      };

      arrowFunction();

      const arrowFunction1 = (param1, param2) => {
        console.log('Hello with param');
      };
      arrowFunction1();

      const oneParam = param =>{
        console.log(param+1);
      }
      oneParam(2);

      const result = () => 2+3;
      console.log(result());

      //EventListeners

      const buttonElement = document.querySelector('.js-button');

      const eventListener = () => {
        console.log('Click');
      };
      buttonElement.addEventListener('click', eventListener);

      //We can remove event listeners
      //Lets say we want not to run above passed fucntion when we click
      //and instead run below function we can use removeeventlistener

      buttonElement.removeEventListener('click', eventListener);

      buttonElement.addEventListener('click', () => {
        console.log('Click2');
      });

      //Advantages of using addeventlisteners over onclick
      //we can add multiple eventlisteners for one event
      //we can remove event listeners

      //Now convert 12-rock-paper-scissors to use event listeners
    </script>
  </body>
</html>